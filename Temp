require([
    "dojo/_base/declare",
         "dojo/_base/lang",
    "dojo/aspect",
    "ecm/model/Request",
    "cNBPropertyEditorEDSPluginDojo/InlineAutocompleteEditor"
], 
function(declare, lang, aspect, Request, InlineAutocompleteEditor) {
    
    console.log("[CNBPropertyEditorEDSPlugin] ====================================");
    console.log("[CNBPropertyEditorEDSPlugin] Initializing plugin...");
    
    var editorConfig = null;
    var configLoaded = false;
    var configLoading = false;
    
    /**
     * Load configuration from backend using ICN Request API
     */
    function loadConfiguration() {
        if (configLoaded || configLoading) {
            return;
        }
        
        configLoading = true;
        console.log("[CNBPropertyEditorEDSPlugin] Loading configuration from backend...");
        
        // Use ICN's Request.invokePluginService() - the correct way!
        Request.invokePluginService("CNBPropertyEditorEDSPlugin", "GetLookupConfigService", {
            requestParams: {},
            requestCompleteCallback: function(response) {
                console.log("[CNBPropertyEditorEDSPlugin] Service response:", response);
                
                editorConfig = response.documentClasses || {};
                configLoaded = true;
                configLoading = false;
                
                var classCount = Object.keys(editorConfig).length;
                console.log("[CNBPropertyEditorEDSPlugin] ✓ Configuration loaded successfully");
                console.log("[CNBPropertyEditorEDSPlugin] ✓ Loaded " + classCount + " document class(es):");
                
                for (var className in editorConfig) {
                    var propsCount = editorConfig[className].properties ? 
                                    Object.keys(editorConfig[className].properties).length : 0;
                    console.log("[CNBPropertyEditorEDSPlugin]   - " + className + " (" + propsCount + " properties)");
                }
            },
            requestFailedCallback: function(error) {
                console.error("[CNBPropertyEditorEDSPlugin] ✗ Failed to load configuration:", error);
                editorConfig = {};
                configLoaded = true;
                configLoading = false;
            }
        });
    }
    
    // Load configuration on plugin startup
    loadConfiguration();
    
    // ========================================================================
    // PROPERTY DISPLAY ORDER: Intercept CommonPropertiesPane.renderAttributes
    // to reorder properties according to configuration
    // ========================================================================
    require(["ecm/widget/CommonPropertiesPane"], function(CommonPropertiesPane) {
        try {
            console.log("[CNBPropertyEditorEDSPlugin] Setting up property display order interception...");
            
            aspect.around(CommonPropertiesPane.prototype, "renderAttributes", function(original) {
                return function(attributeDefinitions, item, reason, isReadOnly, params) {
                    console.log("[CNBPropertyEditorEDSPlugin] ========================================");
                    console.log("[CNBPropertyEditorEDSPlugin] >>> Intercepting renderAttributes");
                    console.log("[CNBPropertyEditorEDSPlugin] Reason:", reason);
                    console.log("[CNBPropertyEditorEDSPlugin] Number of properties:", attributeDefinitions ? attributeDefinitions.length : 0);
                    
                    // If item is not null (editing existing document), remove propertyEditor and Record_Lookup
                    if (item != null && attributeDefinitions && attributeDefinitions.length > 0) {
                        console.log("[CNBPropertyEditorEDSPlugin] Item is not null - removing propertyEditor from all attributes");
                        var removedCount = 0;
                        
                        for (var i = 0; i < attributeDefinitions.length; i++) {
                            var attr = attributeDefinitions[i];
                            if (attr && attr.propertyEditor) {
                                console.log("[CNBPropertyEditorEDSPlugin]   ✗ Removing propertyEditor from: " + (attr.id || attr.name));
                                delete attr.propertyEditor;
                                removedCount++;
                            }
                        }
                        
                        console.log("[CNBPropertyEditorEDSPlugin] ✓ Removed propertyEditor from " + removedCount + " attribute(s)");
                        
                        // Remove Record_Lookup attribute definition
                        var recordLookupIndex = -1;
                        for (var j = 0; j < attributeDefinitions.length; j++) {
                            var attrDef = attributeDefinitions[j];
                            var attrName = attrDef ? (attrDef.id || attrDef.name) : null;
                            if (attrName === "Record_Lookup") {
                                recordLookupIndex = j;
                                break;
                            }
                        }
                        
                        if (recordLookupIndex !== -1) {
                            console.log("[CNBPropertyEditorEDSPlugin]   ✗ Removing Record_Lookup attribute definition from array");
                            attributeDefinitions.splice(recordLookupIndex, 1);
                            console.log("[CNBPropertyEditorEDSPlugin] ✓ Removed Record_Lookup attribute definition");
                            console.log("[CNBPropertyEditorEDSPlugin]   Remaining properties: " + attributeDefinitions.length);
                        } else {
                            console.log("[CNBPropertyEditorEDSPlugin]   Record_Lookup attribute definition not found");
                        }
                    }
                    
                    // Only apply entry template-specific configurations for document creation
                    if (configLoaded && editorConfig && attributeDefinitions && attributeDefinitions.length > 0 && item == null) {
                        try {
                            // Get document class name
                            var documentClass = null;
                            
                            if (attributeDefinitions[0] && attributeDefinitions[0].contentClass) {
                                documentClass = attributeDefinitions[0].contentClass.id;
                            } else if (item && item.contentClass) {
                                documentClass = item.contentClass.name;
                            }
                            
                            console.log("[CNBPropertyEditorEDSPlugin] Document class:", documentClass);
                            
                            // Get entry template name from params
                            var entryTemplateName = null;
                            if (params && params.entryTemplate && params.entryTemplate.name) {
                                entryTemplateName = params.entryTemplate.name;
                                console.log("[CNBPropertyEditorEDSPlugin] Entry template name:", entryTemplateName);
                            }
                            
                            // Get configuration - check for entry template-specific config first
                            var entryTemplateConfig = null;
                            if (documentClass && editorConfig[documentClass]) {
                                var classConfig = editorConfig[documentClass];
                                
                                // If entry template name is available, try to get entry template-specific config
                                if (entryTemplateName && classConfig[entryTemplateName]) {
                                    entryTemplateConfig = classConfig[entryTemplateName];
                                    console.log("[CNBPropertyEditorEDSPlugin] ✓ Found entry template-specific configuration for: " + entryTemplateName);
                                } else {
                                    // Fallback: check if classConfig has direct properties (backward compatibility)
                                    if (classConfig.propertyDisplayOrder || classConfig.showProperties || 
                                        classConfig.customLabelsAndDesc || classConfig.requiredProperties) {
                                        entryTemplateConfig = classConfig;
                                        console.log("[CNBPropertyEditorEDSPlugin] ✓ Using document class-level configuration (backward compatibility)");
                                    }
                                }
                            }
                            
                            if (entryTemplateConfig) {
                                // STEP 1: Filter properties based on showProperties
                                if (entryTemplateConfig.showProperties && entryTemplateConfig.showProperties.length > 0) {
                                    console.log("[CNBPropertyEditorEDSPlugin] ✓ showProperties configured:", entryTemplateConfig.showProperties);
                                    
                                    var visibleAttributes = [];
                                    
                                    attributeDefinitions.forEach(function(attr) {
                                        var propertyName = attr.id || attr.name;
                                        
                                        // Check if this property should be visible
                                        var shouldVisible = entryTemplateConfig.showProperties.indexOf(propertyName) !== -1;
                                        
                                        if (!shouldVisible) {
                                            attr.hidden = true;
                                        }
                                    });
                                    
                                    console.log("[CNBPropertyEditorEDSPlugin] ✓ Properties filtered successfully");
                                    console.log("[CNBPropertyEditorEDSPlugin]   Before filtering: " + attributeDefinitions.length + " properties");
                                    console.log("[CNBPropertyEditorEDSPlugin]   After filtering: " + visibleAttributes.length + " properties");
                                    
                                    // Replace attributeDefinitions with filtered version
                                    //attributeDefinitions = visibleAttributes;
                                }
                                
                                // STEP 2: Apply custom labels and descriptions
                                if (entryTemplateConfig.customLabelsAndDesc) {
                                    var labels = entryTemplateConfig.customLabelsAndDesc.labels;
                                    var desc = entryTemplateConfig.customLabelsAndDesc.desc;
                                    
                                    if (labels || desc) {
                                        console.log("[CNBPropertyEditorEDSPlugin] ✓ Custom labels/descriptions configured");
                                        
                                        attributeDefinitions.forEach(function(attr) {
                                            var propertyName = attr.id || attr.name;
                                            
                                            // ICN uses attributeDefinition.name for the label display (not attributeDefinition.label)
                                            // See CommonPropertiesPane.js line 312: attributeDefinition.name
                                            if (labels && labels[propertyName]) {
                                                attr.name = labels[propertyName];
                                                console.log("[CNBPropertyEditorEDSPlugin]   ✓ Updated name (label) for '" + propertyName + "': " + labels[propertyName]);
                                            }
                                            
                                            if (desc && desc[propertyName]) {
                                                attr.description = desc[propertyName];
                                                console.log("[CNBPropertyEditorEDSPlugin]   ✓ Updated description for '" + propertyName + "': " + desc[propertyName]);
                                            }
                                        });
                                    }
                                }
                                
                                // STEP 3: Reorder properties based on propertyDisplayOrder
                                if (entryTemplateConfig.propertyDisplayOrder && entryTemplateConfig.propertyDisplayOrder.length > 0) {
                                    console.log("[CNBPropertyEditorEDSPlugin] ✓ Property display order configured:", entryTemplateConfig.propertyDisplayOrder);
                                    
                                    // Reorder attributeDefinitions based on propertyDisplayOrder
                                    var orderedAttributes = [];
                                    var remainingAttributes = [].concat(attributeDefinitions); // Clone array
                                    
                                    // First, add properties in the specified order
                                    entryTemplateConfig.propertyDisplayOrder.forEach(function(propertyName) {
                                        for (var i = 0; i < remainingAttributes.length; i++) {
                                            var attr = remainingAttributes[i];
                                            if (attr.id === propertyName || attr.name === propertyName) {
                                                orderedAttributes.push(attr);
                                                remainingAttributes.splice(i, 1);
                                                console.log("[CNBPropertyEditorEDSPlugin]   ✓ Ordered property:", propertyName);
                                                break;
                                            }
                                        }
                                    });
                                    
                                    // Then, add any remaining properties not in the display order (at the end)
                                    remainingAttributes.forEach(function(attr) {
                                        orderedAttributes.push(attr);
                                        console.log("[CNBPropertyEditorEDSPlugin]   + Added remaining property:", attr.id || attr.name);
                                    });
                                    
                                    console.log("[CNBPropertyEditorEDSPlugin] ✓ Properties reordered successfully");
                                    console.log("[CNBPropertyEditorEDSPlugin]   Original order: " + 
                                               attributeDefinitions.map(function(a) { return a.id || a.name; }).join(", "));
                                    console.log("[CNBPropertyEditorEDSPlugin]   New order: " + 
                                               orderedAttributes.map(function(a) { return a.id || a.name; }).join(", "));
                                    
                                    // Replace attributeDefinitions with ordered version
                                    attributeDefinitions = orderedAttributes;
                                }
                                
                                // STEP 4: Apply required properties
                                if (entryTemplateConfig.requiredProperties && entryTemplateConfig.requiredProperties.length > 0) {
                                    console.log("[CNBPropertyEditorEDSPlugin] ✓ requiredProperties configured:", entryTemplateConfig.requiredProperties);
                                    
                                    attributeDefinitions.forEach(function(attr) {
                                        var propertyName = attr.id || attr.name;
                                        var isRequired = entryTemplateConfig.requiredProperties.indexOf(propertyName) !== -1;
                                        
                                        // Set required attribute based on configuration
                                        attr.required = isRequired;
                                        
                                        if (isRequired) {
                                            console.log("[CNBPropertyEditorEDSPlugin]   ✓ Set required=true for: " + propertyName);
                                        } else {
                                            // Only log if it was previously required (to show we're clearing it)
                                            if (attr.required === true) {
                                                console.log("[CNBPropertyEditorEDSPlugin]   ✓ Set required=false for: " + propertyName + " (was previously required)");
                                            }
                                        }
                                    });
                                }
                                
                                // STEP 5: Apply default values
                                if (entryTemplateConfig.defaultValues) {
                                    console.log("[CNBPropertyEditorEDSPlugin] ✓ defaultValues configured:", entryTemplateConfig.defaultValues);
                                    
                                    attributeDefinitions.forEach(function(attr) {
                                        var propertyName = attr.id || attr.name;
                                        
                                        if (entryTemplateConfig.defaultValues.hasOwnProperty(propertyName)) {
                                            var defaultValue = entryTemplateConfig.defaultValues[propertyName];
                                            
                                            // Set default value on attribute definition
                                            // ICN uses defaultValue for initial form values
                                            attr.defaultValue = defaultValue;
                                            
                                            console.log("[CNBPropertyEditorEDSPlugin]   ✓ Set defaultValue for '" + propertyName + "': " + defaultValue);
                                        }
                                    });
                                }
                                
                                // STEP 6: Apply readonly properties
                                if (entryTemplateConfig.readOnlyProperties && entryTemplateConfig.readOnlyProperties.length > 0) {
                                    console.log("[CNBPropertyEditorEDSPlugin] ✓ readOnlyProperties configured:", entryTemplateConfig.readOnlyProperties);
                                    
                                    attributeDefinitions.forEach(function(attr) {
                                        var propertyName = attr.id || attr.name;
                                        var isReadOnly = entryTemplateConfig.readOnlyProperties.indexOf(propertyName) !== -1;
                                        
                                        // Set readonly attribute based on configuration
                                        // ICN uses readOnly property to make fields non-editable
                                        attr.readOnly = isReadOnly;
                                        
                                        if (isReadOnly) {
                                            console.log("[CNBPropertyEditorEDSPlugin]   ✓ Set readOnly=true for: " + propertyName);
                                        } else {
                                            // Only log if it was previously readonly (to show we're clearing it)
                                            if (attr.readOnly === true) {
                                                console.log("[CNBPropertyEditorEDSPlugin]   ✓ Set readOnly=false for: " + propertyName + " (was previously readonly)");
                                            }
                                        }
                                    });
                                }
                            } else {
                                if (documentClass && !editorConfig[documentClass]) {
                                    console.log("[CNBPropertyEditorEDSPlugin]   No configuration found for document class: " + documentClass);
                                } else if (entryTemplateName && documentClass && editorConfig[documentClass] && !editorConfig[documentClass][entryTemplateName]) {
                                    console.log("[CNBPropertyEditorEDSPlugin]   No entry template-specific configuration found for: " + entryTemplateName);
                                }
                            }
                        } catch (e) {
                            console.error("[CNBPropertyEditorEDSPlugin] Error applying entry template configurations:", e);
                        }
                    }
                    
                    // Call original renderAttributes with (possibly modified) attributeDefinitions
                    return original.call(this, attributeDefinitions, item, reason, isReadOnly, params);
                };
            });
            
            console.log("[CNBPropertyEditorEDSPlugin] ✓ Property display order interception set up successfully");
            
        } catch (e) {
            console.error("[CNBPropertyEditorEDSPlugin] Failed to set up property display order:", e);
        }
    });
    
    console.log("[CNBPropertyEditorEDSPlugin] Plugin initialized successfully");
    console.log("[CNBPropertyEditorEDSPlugin] ====================================");
});








{
  "dataSources": {
    "RAMDB": {
      "type": "jndi",
      "jndiName": "jdbc/RAMDB"
    }
  },
  "documentClasses": {
    "VehicleRegistration": {
      "desktops": ["Automotive", "Admin"],
      "Vehicle Registration ET":{
      		"propertyDisplayOrder": ["RecordLookup", "VIN", "RegistrationNumber", "VehicleType"],
		      "showProperties": ["RecordLookup", "VIN", "RegistrationNumber", "VehicleType"],
		      "customLabelsAndDesc": {
		      				"labels":{"RegistrationNumber":"Registration Number of the vehicle"},
		      				"desc":{"RegistrationNumber":"Registration Number of the vehicle Desc"}
		      },
		      "requiredProperties": ["RegistrationNumber", "VehicleType"]
      },
      "Vehicle Regi ET":{
      		"propertyDisplayOrder": ["FuelType"],
		      "showProperties": ["FuelType", "RegistrationDate", "OwnerName"],
		      "customLabelsAndDesc": {
		      				"labels":{"FuelType":"FuelType of the vehicle"},
		      				"desc":{"FuelType":"FuelType of the vehicle Desc"}
		      },
		      "requiredProperties": ["FuelType", "OwnerName"]
      },
      "properties": {
        "RecordLookup": {
          "displayName": "Record Lookup",
          "editorType": "inlineAutocomplete",
          "serviceName": "CustomEditorGenericLookupService",
          "dataSource": "RAMDB",
          "preloadMode": "none",
          "allowClear": true,
          "allowEdit": true,
          "clearAfterSelection": true,
          "tooltipMessage": "auto",
          "hasDependentProperties": true,
          "queryConfig": {
            "sql": "SELECT TOP {limit} VIN, RegistrationNumber, RegistrationDate, OwnerName, VehicleType, FuelType FROM [RAMDB].[dbo].[VehicleInformation] WHERE VIN LIKE ? OR RegistrationNumber LIKE ? ORDER BY RegistrationNumber",
            "resultColumns": ["VIN", "RegistrationNumber", "RegistrationDate", "OwnerName", "VehicleType", "FuelType"],
            "filterColumns": ["VIN", "RegistrationNumber"],
            "searchPattern": "contains"
          },
          "displayColumns": {
            "VIN": "VIN",
            "RegistrationNumber": "Registration Number",
            "RegistrationDate": "Registration Date",
            "OwnerName": "Owner Name"
          },
          "fieldMappings": {
            "VIN": {
              "sourceAlias": "VIN",
              "targetProperty": "VIN",
              "dataType": "xs:string",
              "cardinality": "SINGLE"
            },
            "RegistrationNumber": {
              "sourceAlias": "RegistrationNumber",
              "targetProperty": "RegistrationNumber",
              "dataType": "xs:string",
              "cardinality": "SINGLE"
            },
            "RegistrationDate": {
              "sourceAlias": "RegistrationDate",
              "targetProperty": "RegistrationDate",
              "dataType": "xs:date",
              "cardinality": "SINGLE"
            },
            "OwnerName": {
              "sourceAlias": "OwnerName",
              "targetProperty": "OwnerName",
              "dataType": "xs:string",
              "cardinality": "SINGLE"
            }
          },
          "searchConfig": {
            "minLength": 2,
            "debounceDelay": 300,
            "placeholder": "Type VIN or Registration Number...",
            "limit": 1000
          }
        },
        "VehicleType": {
          "displayName": "Vehicle Type",
          "editorType": "inlineAutocomplete",
          "serviceName": "CustomEditorGenericLookupService",
          "dataSource": "RAMDB",
          "preloadMode": "top500",
          "allowClear": true,
          "allowEdit": false,
          "clearAfterSelection": false,
          "tooltipMessage": "auto",
          "hasDependentProperties": true,
          "queryConfig": {
            "sql": "SELECT DISTINCT TOP {limit} [VehicleType], [FuelType] FROM [RAMDB].[dbo].[VehicleInformation] ORDER BY VehicleType",
            "resultColumns": ["VehicleType", "FuelType"],
            "filterColumns": ["VehicleType"],
            "searchPattern": "startsWith"
          },
          "displayColumns": {
            "VehicleType": "Vehicle Type",
            "FuelType": "Fuel Type"
          },
          "fieldMappings": {
            "VehicleType": {
              "sourceAlias": "VehicleType",
              "targetProperty": "VehicleType",
              "dataType": "xs:string",
              "cardinality": "SINGLE"
            },
            "FuelType": {
              "sourceAlias": "FuelType",
              "targetProperty": "FuelType",
              "dataType": "xs:string",
              "cardinality": "SINGLE"
            }
          },
          "searchConfig": {
            "minLength": 0,
            "debounceDelay": 300,
            "placeholder": "Select Vehicle Type...",
            "limit": 500
          }
        }
      }
    },
    "CarModel": {
      "desktops": ["Automotive", "Admin"],
      "propertyDisplayOrder": ["RecordLookup", "ModelYear", "Manufacturer", "Model", "Variant", "EngineType", "Transmission"],
      "showProperties": ["RecordLookup", "ModelYear", "Manufacturer", "Model", "Variant", "EngineType", "Transmission"],
      "customLabelsAndDesc": {	
      					"labels":{"ModelYear":"Model Year of the vehicle"},
      					"desc":{"RegistrationNumber":"Registration Number of the vehicle Desc"}
      },
      "requiredProperties": ["Manufacturer", "Model", "Variant"],
      "properties": {
        "RecordLookup": {
          "displayName": "Record Lookup",
          "editorType": "inlineAutocomplete",
          "serviceName": "CustomEditorGenericLookupService",
          "dataSource": "RAMDB",
          "preloadMode": "none",
          "allowClear": true,
          "allowEdit": true,
          "clearAfterSelection": true,
          "tooltipMessage": "auto",
          "hasDependentProperties": true,
          "queryConfig": {
            "sql": "SELECT TOP {limit} [Model_Code], [Make], [Model_Name], [Year] FROM [RAMDB].[dbo].[VehicleModels] WHERE [Model_Name] LIKE ? ORDER BY [Model_Name]",
            "resultColumns": ["Model_Code", "Make", "Model_Name"],
            "filterColumns": ["Model_Name"],
            "searchPattern": "contains"
          },
          "displayColumns": {
            "Model_Code": "Model Code",
            "Make": "Make",
            "Model_Name": "Model Name"
          },
          "fieldMappings": {
            "Model_Code": {
              "sourceAlias": "Model_Code",
              "targetProperty": "ModelCode",
              "dataType": "xs:string",
              "cardinality": "SINGLE"
            },
            "Make": {
              "sourceAlias": "Make",
              "targetProperty": "Make",
              "dataType": "xs:string",
              "cardinality": "SINGLE"
            },
            "Model_Name": {
              "sourceAlias": "Model_Name",
              "targetProperty": "ModelName",
              "dataType": "xs:string",
              "cardinality": "SINGLE"
            },
            "Year": {
              "sourceAlias": "Year",
              "targetProperty": "Year",
              "dataType": "xs:string",
              "cardinality": "SINGLE"
            }
          },
          "searchConfig": {
            "minLength": 2,
            "debounceDelay": 300,
            "placeholder": "Type Model Name...",
            "limit": 1000
          }
        },
        "EngineType": {
          "displayName": "Engine Type",
          "editorType": "inlineAutocomplete",
          "serviceName": "CustomEditorGenericLookupService",
          "dataSource": "RAMDB",
          "preloadMode": "top500",
          "allowClear": true,
          "allowEdit": false,
          "clearAfterSelection": false,
          "tooltipMessage": "Select from available engine types",
          "hasDependentProperties": false,
          "queryConfig": {
            "sql": "SELECT DISTINCT [Engine_Type] FROM [RAMDB].[dbo].[VehicleModels] ORDER BY [Engine_Type]",
            "resultColumns": ["Engine_Type"],
            "filterColumns": ["Engine_Type"],
            "searchPattern": "startsWith"
          },
          "displayColumns": {
            "Engine_Type": "Engine Type"
          },
          "fieldMappings": {
            "Engine_Type": {
              "sourceAlias": "Engine_Type",
              "targetProperty": "EngineType",
              "dataType": "xs:string",
              "cardinality": "SINGLE"
            }
          },
          "searchConfig": {
            "minLength": 0,
            "debounceDelay": 0,
            "placeholder": "Select Engine Type...",
            "limit": 500
          }
        }
      }
    },
    "DC_FX_Document": {
      "desktops": ["Automotive", "Admin"],
      "Entry_Template_1": {
        "propertyDisplayOrder": ["AccountNumber", "DocType", "AccountNumber_depend1", "AccountNumber_depend2", "AccountNumber_depend3", "AccountNumber_depend4"],
        "showProperties": ["AccountNumber", "DocType", "AccountNumber_depend1", "AccountNumber_depend2", "AccountNumber_depend3", "AccountNumber_depend4"],
        "defaultValues": {
          "DocType": "ABC"
        },
        "readOnlyProperties": ["DocType"],
        "requiredProperties": ["AccountNumber", "DocType"]
      },
      "Entry_Template_2": {
        "propertyDisplayOrder": ["CISNUmber", "DocType", "CISNUmber_depend1", "CISNUmber_depend2", "CISNUmber_depend3", "CISNUmber_depend4"],
        "showProperties": ["CISNUmber", "DocType", "CISNUmber_depend1", "CISNUmber_depend2", "CISNUmber_depend3", "CISNUmber_depend4"],
        "defaultValues": {
          "DocType": "DBO"
        },
        "readOnlyProperties": ["DocType"],
        "requiredProperties": ["CISNUmber", "DocType"]
      },
      "Entry_Template_3": {
        "propertyDisplayOrder": ["TaxIDNumber", "DocType", "TaxIDNumber_depend1", "TaxIDNumber_depend2", "TaxIDNumber_depend3", "TaxIDNumber_depend4"],
        "showProperties": ["TaxIDNumber", "DocType", "TaxIDNumber_depend1", "TaxIDNumber_depend2", "TaxIDNumber_depend3", "TaxIDNumber_depend4"],
        "defaultValues": {
          "DocType": "FDIS"
        },
        "readOnlyProperties": ["DocType"],
        "requiredProperties": ["TaxIDNumber", "DocType"]
      },
      "Entry_Template_4": {
        "propertyDisplayOrder": ["MultiSSNnumber", "DocType", "MultiSSNnumber_depend1", "MultiSSNnumber_depend2", "MultiSSNnumber_depend3", "MultiSSNnumber_depend4"],
        "showProperties": ["MultiSSNnumber", "DocType", "MultiSSNnumber_depend1", "MultiSSNnumber_depend2", "MultiSSNnumber_depend3", "MultiSSNnumber_depend4"],
        "defaultValues": {
          "DocType": "ABC"
        },
        "readOnlyProperties": ["DocType"],
        "requiredProperties": ["MultiSSNnumber", "DocType"]
      },
      "Entry_Template_5": {
        "propertyDisplayOrder": ["DCFileNumber", "DocType", "DCFileNumber_depend1", "DCFileNumber_depend2", "DCFileNumber_depend3", "DCFileNumber_depend4"],
        "showProperties": ["DCFileNumber", "DocType", "DCFileNumber_depend1", "DCFileNumber_depend2", "DCFileNumber_depend3", "DCFileNumber_depend4"],
        "defaultValues": {
          "DocType": "XYZ"
        },
        "readOnlyProperties": ["DocType"],
        "requiredProperties": ["DCFileNumber", "DocType"]
      },
      "Entry_Template_6": {
        "propertyDisplayOrder": ["LendNumber", "DocType", "LendNumber_depend1", "LendNumber_depend2", "LendNumber_depend3", "LendNumber_depend4"],
        "showProperties": ["LendNumber", "DocType", "LendNumber_depend1", "LendNumber_depend2", "LendNumber_depend3", "LendNumber_depend4"],
        "defaultValues": {
          "DocType": "TEMP"
        },
        "readOnlyProperties": ["DocType"],
        "requiredProperties": ["LendNumber", "DocType"]
      },
      "properties": {
        "AccountNumber": {
          "displayName": "Account Number",
          "editorType": "inlineAutocomplete",
          "serviceName": "CustomEditorGenericLookupService",
          "dataSource": "RAMDB",
          "preloadMode": "none",
          "allowClear": true,
          "allowEdit": true,
          "clearAfterSelection": false,
          "tooltipMessage": "auto",
          "hasDependentProperties": true,
          "queryConfig": {
            "sql": "SELECT TOP {limit} AccountNumber, AccountNumber_depend1, AccountNumber_depend2, AccountNumber_depend3, AccountNumber_depend4 FROM [RAMDB].[dbo].[AccountData] WHERE AccountNumber LIKE ? ORDER BY AccountNumber",
            "resultColumns": ["AccountNumber", "AccountNumber_depend1", "AccountNumber_depend2", "AccountNumber_depend3", "AccountNumber_depend4"],
            "filterColumns": ["AccountNumber"],
            "searchPattern": "contains"
          },
          "displayColumns": {
            "AccountNumber": "Account Number",
            "AccountNumber_depend1": "Dependent Field 1",
            "AccountNumber_depend2": "Dependent Field 2",
            "AccountNumber_depend3": "Dependent Field 3",
            "AccountNumber_depend4": "Dependent Field 4"
          },
          "fieldMappings": {
            "AccountNumber": {
              "sourceAlias": "AccountNumber",
              "targetProperty": "AccountNumber",
              "dataType": "xs:string",
              "cardinality": "SINGLE"
            },
            "AccountNumber_depend1": {
              "sourceAlias": "AccountNumber_depend1",
              "targetProperty": "AccountNumber_depend1",
              "dataType": "xs:string",
              "cardinality": "SINGLE"
            },
            "AccountNumber_depend2": {
              "sourceAlias": "AccountNumber_depend2",
              "targetProperty": "AccountNumber_depend2",
              "dataType": "xs:string",
              "cardinality": "SINGLE"
            },
            "AccountNumber_depend3": {
              "sourceAlias": "AccountNumber_depend3",
              "targetProperty": "AccountNumber_depend3",
              "dataType": "xs:string",
              "cardinality": "SINGLE"
            },
            "AccountNumber_depend4": {
              "sourceAlias": "AccountNumber_depend4",
              "targetProperty": "AccountNumber_depend4",
              "dataType": "xs:string",
              "cardinality": "SINGLE"
            }
          },
          "searchConfig": {
            "minLength": 2,
            "debounceDelay": 300,
            "placeholder": "Type Account Number...",
            "limit": 1000
          }
        },
        "CISNUmber": {
          "displayName": "CIS Number",
          "editorType": "inlineAutocomplete",
          "serviceName": "CustomEditorGenericLookupService",
          "dataSource": "RAMDB",
          "preloadMode": "none",
          "allowClear": true,
          "allowEdit": true,
          "clearAfterSelection": false,
          "tooltipMessage": "auto",
          "hasDependentProperties": true,
          "queryConfig": {
            "sql": "SELECT TOP {limit} CISNUmber, CISNUmber_depend1, CISNUmber_depend2, CISNUmber_depend3, CISNUmber_depend4 FROM [RAMDB].[dbo].[CISData] WHERE CISNUmber LIKE ? ORDER BY CISNUmber",
            "resultColumns": ["CISNUmber", "CISNUmber_depend1", "CISNUmber_depend2", "CISNUmber_depend3", "CISNUmber_depend4"],
            "filterColumns": ["CISNUmber"],
            "searchPattern": "contains"
          },
          "displayColumns": {
            "CISNUmber": "CIS Number",
            "CISNUmber_depend1": "Dependent Field 1",
            "CISNUmber_depend2": "Dependent Field 2",
            "CISNUmber_depend3": "Dependent Field 3",
            "CISNUmber_depend4": "Dependent Field 4"
          },
          "fieldMappings": {
            "CISNUmber": {
              "sourceAlias": "CISNUmber",
              "targetProperty": "CISNUmber",
              "dataType": "xs:string",
              "cardinality": "SINGLE"
            },
            "CISNUmber_depend1": {
              "sourceAlias": "CISNUmber_depend1",
              "targetProperty": "CISNUmber_depend1",
              "dataType": "xs:string",
              "cardinality": "SINGLE"
            },
            "CISNUmber_depend2": {
              "sourceAlias": "CISNUmber_depend2",
              "targetProperty": "CISNUmber_depend2",
              "dataType": "xs:string",
              "cardinality": "SINGLE"
            },
            "CISNUmber_depend3": {
              "sourceAlias": "CISNUmber_depend3",
              "targetProperty": "CISNUmber_depend3",
              "dataType": "xs:string",
              "cardinality": "SINGLE"
            },
            "CISNUmber_depend4": {
              "sourceAlias": "CISNUmber_depend4",
              "targetProperty": "CISNUmber_depend4",
              "dataType": "xs:string",
              "cardinality": "SINGLE"
            }
          },
          "searchConfig": {
            "minLength": 2,
            "debounceDelay": 300,
            "placeholder": "Type CIS Number...",
            "limit": 1000
          }
        },
        "TaxIDNumber": {
          "displayName": "Tax ID Number",
          "editorType": "inlineAutocomplete",
          "serviceName": "CustomEditorGenericLookupService",
          "dataSource": "RAMDB",
          "preloadMode": "none",
          "allowClear": true,
          "allowEdit": true,
          "clearAfterSelection": false,
          "tooltipMessage": "auto",
          "hasDependentProperties": true,
          "queryConfig": {
            "sql": "SELECT TOP {limit} TaxIDNumber, TaxIDNumber_depend1, TaxIDNumber_depend2, TaxIDNumber_depend3, TaxIDNumber_depend4 FROM [RAMDB].[dbo].[TaxData] WHERE TaxIDNumber LIKE ? ORDER BY TaxIDNumber",
            "resultColumns": ["TaxIDNumber", "TaxIDNumber_depend1", "TaxIDNumber_depend2", "TaxIDNumber_depend3", "TaxIDNumber_depend4"],
            "filterColumns": ["TaxIDNumber"],
            "searchPattern": "contains"
          },
          "displayColumns": {
            "TaxIDNumber": "Tax ID Number",
            "TaxIDNumber_depend1": "Dependent Field 1",
            "TaxIDNumber_depend2": "Dependent Field 2",
            "TaxIDNumber_depend3": "Dependent Field 3",
            "TaxIDNumber_depend4": "Dependent Field 4"
          },
          "fieldMappings": {
            "TaxIDNumber": {
              "sourceAlias": "TaxIDNumber",
              "targetProperty": "TaxIDNumber",
              "dataType": "xs:string",
              "cardinality": "SINGLE"
            },
            "TaxIDNumber_depend1": {
              "sourceAlias": "TaxIDNumber_depend1",
              "targetProperty": "TaxIDNumber_depend1",
              "dataType": "xs:string",
              "cardinality": "SINGLE"
            },
            "TaxIDNumber_depend2": {
              "sourceAlias": "TaxIDNumber_depend2",
              "targetProperty": "TaxIDNumber_depend2",
              "dataType": "xs:string",
              "cardinality": "SINGLE"
            },
            "TaxIDNumber_depend3": {
              "sourceAlias": "TaxIDNumber_depend3",
              "targetProperty": "TaxIDNumber_depend3",
              "dataType": "xs:string",
              "cardinality": "SINGLE"
            },
            "TaxIDNumber_depend4": {
              "sourceAlias": "TaxIDNumber_depend4",
              "targetProperty": "TaxIDNumber_depend4",
              "dataType": "xs:string",
              "cardinality": "SINGLE"
            }
          },
          "searchConfig": {
            "minLength": 2,
            "debounceDelay": 300,
            "placeholder": "Type Tax ID Number...",
            "limit": 1000
          }
        },
        "MultiSSNnumber": {
          "displayName": "Multi SSN Number",
          "editorType": "inlineAutocomplete",
          "serviceName": "CustomEditorGenericLookupService",
          "dataSource": "RAMDB",
          "preloadMode": "none",
          "allowClear": true,
          "allowEdit": true,
          "clearAfterSelection": false,
          "tooltipMessage": "auto",
          "hasDependentProperties": true,
          "queryConfig": {
            "sql": "SELECT TOP {limit} MultiSSNnumber, MultiSSNnumber_depend1, MultiSSNnumber_depend2, MultiSSNnumber_depend3, MultiSSNnumber_depend4 FROM [RAMDB].[dbo].[SSNData] WHERE MultiSSNnumber LIKE ? ORDER BY MultiSSNnumber",
            "resultColumns": ["MultiSSNnumber", "MultiSSNnumber_depend1", "MultiSSNnumber_depend2", "MultiSSNnumber_depend3", "MultiSSNnumber_depend4"],
            "filterColumns": ["MultiSSNnumber"],
            "searchPattern": "contains"
          },
          "displayColumns": {
            "MultiSSNnumber": "Multi SSN Number",
            "MultiSSNnumber_depend1": "Dependent Field 1",
            "MultiSSNnumber_depend2": "Dependent Field 2",
            "MultiSSNnumber_depend3": "Dependent Field 3",
            "MultiSSNnumber_depend4": "Dependent Field 4"
          },
          "fieldMappings": {
            "MultiSSNnumber": {
              "sourceAlias": "MultiSSNnumber",
              "targetProperty": "MultiSSNnumber",
              "dataType": "xs:string",
              "cardinality": "SINGLE"
            },
            "MultiSSNnumber_depend1": {
              "sourceAlias": "MultiSSNnumber_depend1",
              "targetProperty": "MultiSSNnumber_depend1",
              "dataType": "xs:string",
              "cardinality": "SINGLE"
            },
            "MultiSSNnumber_depend2": {
              "sourceAlias": "MultiSSNnumber_depend2",
              "targetProperty": "MultiSSNnumber_depend2",
              "dataType": "xs:string",
              "cardinality": "SINGLE"
            },
            "MultiSSNnumber_depend3": {
              "sourceAlias": "MultiSSNnumber_depend3",
              "targetProperty": "MultiSSNnumber_depend3",
              "dataType": "xs:string",
              "cardinality": "SINGLE"
            },
            "MultiSSNnumber_depend4": {
              "sourceAlias": "MultiSSNnumber_depend4",
              "targetProperty": "MultiSSNnumber_depend4",
              "dataType": "xs:string",
              "cardinality": "SINGLE"
            }
          },
          "searchConfig": {
            "minLength": 2,
            "debounceDelay": 300,
            "placeholder": "Type Multi SSN Number...",
            "limit": 1000
          }
        },
        "DCFileNumber": {
          "displayName": "DC File Number",
          "editorType": "inlineAutocomplete",
          "serviceName": "CustomEditorGenericLookupService",
          "dataSource": "RAMDB",
          "preloadMode": "none",
          "allowClear": true,
          "allowEdit": true,
          "clearAfterSelection": false,
          "tooltipMessage": "auto",
          "hasDependentProperties": true,
          "queryConfig": {
            "sql": "SELECT TOP {limit} DCFileNumber, DCFileNumber_depend1, DCFileNumber_depend2, DCFileNumber_depend3, DCFileNumber_depend4 FROM [RAMDB].[dbo].[DCFileData] WHERE DCFileNumber LIKE ? ORDER BY DCFileNumber",
            "resultColumns": ["DCFileNumber", "DCFileNumber_depend1", "DCFileNumber_depend2", "DCFileNumber_depend3", "DCFileNumber_depend4"],
            "filterColumns": ["DCFileNumber"],
            "searchPattern": "contains"
          },
          "displayColumns": {
            "DCFileNumber": "DC File Number",
            "DCFileNumber_depend1": "Dependent Field 1",
            "DCFileNumber_depend2": "Dependent Field 2",
            "DCFileNumber_depend3": "Dependent Field 3",
            "DCFileNumber_depend4": "Dependent Field 4"
          },
          "fieldMappings": {
            "DCFileNumber": {
              "sourceAlias": "DCFileNumber",
              "targetProperty": "DCFileNumber",
              "dataType": "xs:string",
              "cardinality": "SINGLE"
            },
            "DCFileNumber_depend1": {
              "sourceAlias": "DCFileNumber_depend1",
              "targetProperty": "DCFileNumber_depend1",
              "dataType": "xs:string",
              "cardinality": "SINGLE"
            },
            "DCFileNumber_depend2": {
              "sourceAlias": "DCFileNumber_depend2",
              "targetProperty": "DCFileNumber_depend2",
              "dataType": "xs:string",
              "cardinality": "SINGLE"
            },
            "DCFileNumber_depend3": {
              "sourceAlias": "DCFileNumber_depend3",
              "targetProperty": "DCFileNumber_depend3",
              "dataType": "xs:string",
              "cardinality": "SINGLE"
            },
            "DCFileNumber_depend4": {
              "sourceAlias": "DCFileNumber_depend4",
              "targetProperty": "DCFileNumber_depend4",
              "dataType": "xs:string",
              "cardinality": "SINGLE"
            }
          },
          "searchConfig": {
            "minLength": 2,
            "debounceDelay": 300,
            "placeholder": "Type DC File Number...",
            "limit": 1000
          }
        },
        "LendNumber": {
          "displayName": "Lend Number",
          "editorType": "inlineAutocomplete",
          "serviceName": "CustomEditorGenericLookupService",
          "dataSource": "RAMDB",
          "preloadMode": "none",
          "allowClear": true,
          "allowEdit": true,
          "clearAfterSelection": false,
          "tooltipMessage": "auto",
          "hasDependentProperties": true,
          "queryConfig": {
            "sql": "SELECT TOP {limit} LendNumber, LendNumber_depend1, LendNumber_depend2, LendNumber_depend3, LendNumber_depend4 FROM [RAMDB].[dbo].[LendData] WHERE LendNumber LIKE ? ORDER BY LendNumber",
            "resultColumns": ["LendNumber", "LendNumber_depend1", "LendNumber_depend2", "LendNumber_depend3", "LendNumber_depend4"],
            "filterColumns": ["LendNumber"],
            "searchPattern": "contains"
          },
          "displayColumns": {
            "LendNumber": "Lend Number",
            "LendNumber_depend1": "Dependent Field 1",
            "LendNumber_depend2": "Dependent Field 2",
            "LendNumber_depend3": "Dependent Field 3",
            "LendNumber_depend4": "Dependent Field 4"
          },
          "fieldMappings": {
            "LendNumber": {
              "sourceAlias": "LendNumber",
              "targetProperty": "LendNumber",
              "dataType": "xs:string",
              "cardinality": "SINGLE"
            },
            "LendNumber_depend1": {
              "sourceAlias": "LendNumber_depend1",
              "targetProperty": "LendNumber_depend1",
              "dataType": "xs:string",
              "cardinality": "SINGLE"
            },
            "LendNumber_depend2": {
              "sourceAlias": "LendNumber_depend2",
              "targetProperty": "LendNumber_depend2",
              "dataType": "xs:string",
              "cardinality": "SINGLE"
            },
            "LendNumber_depend3": {
              "sourceAlias": "LendNumber_depend3",
              "targetProperty": "LendNumber_depend3",
              "dataType": "xs:string",
              "cardinality": "SINGLE"
            },
            "LendNumber_depend4": {
              "sourceAlias": "LendNumber_depend4",
              "targetProperty": "LendNumber_depend4",
              "dataType": "xs:string",
              "cardinality": "SINGLE"
            }
          },
          "searchConfig": {
            "minLength": 2,
            "debounceDelay": 300,
            "placeholder": "Type Lend Number...",
            "limit": 1000
          }
        }
      }
    }
  }
}






